<!DOCTYPE html>
<html lang="en">
<%- include("../partials/head") %>
<body>
    <%- include("../partials/header") %>
    <main>
      <table id="dataTable">
        <thead>
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Address</th>
            <th>Phone</th>
          </tr>
        </thead>  
        <tbody id="tb1">
        </tbody>
      </table>
    </main>
    <%-include("../partials/footer") %>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="../javascripts/scripts.js"></script>
    <script>
      window.onload = function(){
        loadCSS();
        $.get("getCustomers", function(json, status){
          var data = JSON.parse(json);
          console.log(data);
          var html = "";
          for(var i = 0; i < data.length; i++){
            html += `<tr>
                        <td>${data[i].fname}</td>
                        <td>${data[i].lname}</td>
                        <td>${data[i].address}</td>
                        <td>${data[i].phone}</td>
                      </tr>`;
          }
          $("#tb1").html(html);
        });
        $("#dataTable").DataTable();
      }
    </script>
</body>
</html>